(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Users"],{"2db4":function(e,t,r){"use strict";r("a9e3"),r("ca71");var s=r("a9ad"),a=r("f2e7"),n=r("fe6c"),i=r("58df"),o=r("d9bd");t["a"]=Object(i["a"])(s["a"],a["a"],Object(n["b"])(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(o["d"])("auto-height",this)},mounted:function(){this.setTimeout()},methods:{setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),this.timeout))}},render:function(e){return e("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&e("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[e("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper",attrs:{role:"alert"}}),[e("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},a0d9:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-snackbar",{attrs:{color:e.snackbar.color,timeout:e.snackbar.timeout,right:"",top:""},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(e._s(e.snackbar.text)+" ")]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-container",[r("v-row",[r("v-col",{staticClass:"ml-5",attrs:{cols:"12"}},[r("h1",[e._v("Manage users")]),r("v-btn",{staticClass:"mt-5",attrs:{color:"green",depressed:""},on:{click:function(t){e.createUserDialog=!e.createUserDialog}}},[e._v("Add user ")])],1)],1)],1),r("new-user-form",{attrs:{createUser:e.createUser,creating:e.userIsCreating,showing:e.createUserDialog}})],1)],1)],1),r("v-card",[r("v-row",{staticClass:"py-10 justify-center "},e._l(e.users,(function(t){return r("v-col",{key:t._id,attrs:{cols:"5"}},[r("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("div",{staticClass:"overline mb-4"},[e._v("id : "+e._s(t._id))]),r("div",{staticClass:"overline mb-1"},[e._v("Username : "+e._s(t.username))]),r("v-list-item-title",{staticClass:"headline mb-1"},[e._v("Name : "+e._s(t.displayName)+" ")]),r("v-list-item-subtitle",[e._v("Role : "+e._s(t.role))]),r("v-list-item-subtitle",[e._v("Email : "+e._s(t.email))]),r("v-list-item-subtitle",[e._v("Phone : "+e._s(t.phone))])],1),r("v-list-item-avatar",{attrs:{color:"grey",round:"",size:"80"}},[r("v-img",{attrs:{src:t.imageUrl}})],1)],1),r("v-card-actions",[r("v-btn",{attrs:{color:"orange",text:""}},[e._v("Edit user")]),r("v-btn",{attrs:{color:"red",text:""},on:{click:function(r){return e.deleteUser(t._id)}}},[e._v("Remove user")])],1)],1)],1)})),1)],1)],1)},a=[],n=(r("96cf"),r("1da1")),i=r("5530"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{"max-width":"500",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline mb-5"},[e._v("Create a new user")]),r("v-card-text",[r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){t.validate,t.reset;return[r("v-form",{on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},submit:function(t){return t.preventDefault(),e.onCreateUser(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("ValidationProvider",{attrs:{name:"Username",rules:"required|min:3|max:15|alpha_num"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-text-field",{attrs:{label:"Username",outlined:"",required:"",counter:15,"error-messages":s},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"Display Name",rules:"required|min:3|max:20|alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-text-field",{attrs:{label:"Display Name",outlined:"",required:"",counter:20,"error-messages":s},model:{value:e.user.displayName,callback:function(t){e.$set(e.user,"displayName",t)},expression:"user.displayName"}})]}}],null,!0)}),r("ValidationObserver",[r("ValidationProvider",{attrs:{name:"Password",rules:"confirmed:confirmation|required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-text-field",{attrs:{label:"Password",outlined:"",required:"",type:"password","error-messages":s},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})]}}],null,!0)}),r("ValidationProvider",{attrs:{vid:"confirmation"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-text-field",{attrs:{label:"Confirm Password",outlined:"",required:"",type:"password","error-messages":s},model:{value:e.confirmation,callback:function(t){e.confirmation=t},expression:"confirmation"}})]}}],null,!0)})],1),r("ValidationProvider",{attrs:{name:"Profile picture URL",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-text-field",{attrs:{label:"Profile picture URL",outlined:"",required:"","error-messages":s},model:{value:e.user.imageUrl,callback:function(t){e.$set(e.user,"imageUrl",t)},expression:"user.imageUrl"}})]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-text-field",{attrs:{label:"Email",outlined:"",required:"","error-messages":s},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required",name:"Phone"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-text-field",{attrs:{label:"Phone",type:"phone",outlined:"",required:"","error-messages":s},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})]}}],null,!0)}),r("ValidationProvider",{attrs:{name:"Role",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("v-select",{attrs:{items:e.roleItems,label:"Role selection",outlined:"",required:"","error-messages":s},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})]}}],null,!0)}),r("v-btn",{attrs:{disabled:!e.valid,color:"primary",type:"submit"},on:{click:function(t){e.dialog=!1}}},[e._v("Create new user ")]),r("v-btn",{staticClass:"mx-3",attrs:{color:"error"},on:{click:function(t){e.dialog=!1}}},[e._v("cancel")])],1)]}}])})],1)],1)],1)],1)},l=[],c=(r("47db"),{name:"NewUserForm",props:["creating","createUser","showing"],data:function(){return{valid:!1,dialog:!1,confirmation:"",roleItems:["Administrator","Member"],user:{username:"",password:"",displayName:"",imageUrl:"",role:"",email:"",phone:""}}},watch:{showing:{immediate:!0,handler:function(){this.dialog=this.showing}}},methods:{onCreateUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.observer.validate();case 2:if(r=t.sent,!r){t.next=7;break}return t.next=6,e.createUser(e.user);case 6:e.$refs.observer.reset();case 7:case"end":return t.stop()}}),t)})))()}}}),u=c,d=r("2877"),v=r("6544"),m=r.n(v),f=r("8336"),b=r("b0af"),p=r("99d9"),h=r("169a"),k=r("4bd4"),w=r("0fd9"),g=r("b974"),x=r("8654"),_=Object(d["a"])(u,o,l,!1,null,null,null),y=_.exports;m()(_,{VBtn:f["a"],VCard:b["a"],VCardText:p["b"],VCardTitle:p["c"],VDialog:h["a"],VForm:k["a"],VRow:w["a"],VSelect:g["a"],VTextField:x["a"]});var U=r("2f62"),V=r("ed08"),C={name:"User-overview",components:{NewUserForm:y},data:function(){return{createUserDialog:!1,snackbar:{show:!1,text:"",color:"success",timeout:6e3}}},computed:Object(i["a"])({},Object(U["d"])("auth",{userIsCreating:"isCreatePending"}),{},Object(U["c"])("users",{findUsersInStore:"find"}),{query:function(){return{}},users:function(){return this.findUsersInStore({query:this.query}).data}}),methods:Object(i["a"])({},Object(U["b"])("users",{findUsers:"find"}),{createUser:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.$FeathersVuex.api.User,a=new s(e),r.prev=2,r.next=5,a.save();case 5:Object(V["a"])(t.snackbar,"success","User created successfully !"),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](2),Object(V["a"])(t.snackbar,"error",r.t0);case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))()},deleteUser:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var s,a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=window.confirm("Are you sure you want to delete this item?"),!0!==s){r.next=15;break}return a=t.$FeathersVuex.api.User,r.prev=3,r.next=6,a.get(e);case 6:return n=r.sent,r.next=9,n.remove();case 9:Object(V["a"])(t.snackbar,"success","User deleted successfully !"),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](3),Object(V["a"])(t.snackbar,"error",r.t0);case 15:case"end":return r.stop()}}),r,null,[[3,12]])})))()}}),created:function(){this.findUsers({query:this.query})}},O=C,q=r("62ad"),j=r("a523"),P=r("adda"),$=r("da13"),R=r("8270"),S=r("5d23"),I=r("2db4"),T=Object(d["a"])(O,s,a,!1,null,null,null);t["default"]=T.exports;m()(T,{VBtn:f["a"],VCard:b["a"],VCardActions:p["a"],VCol:q["a"],VContainer:j["a"],VImg:P["a"],VListItem:$["a"],VListItemAvatar:R["a"],VListItemContent:S["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"],VRow:w["a"],VSnackbar:I["a"]})},ca71:function(e,t,r){},ed08:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var s=function(e,t,r){e.color=t,e.text=r,e.show=!0}}}]);
//# sourceMappingURL=Users.f3f13200.js.map